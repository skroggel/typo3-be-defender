/**
 * 2023/07/19
 * Author: Steffen Kroggel <developer@steffenkroggel.de>
 * Verion: 9.5.4
 */
"loading"===document.readyState?document.addEventListener("DOMContentLoaded",txBeDefenderAfterDOMLoaded):txBeDefenderAfterDOMLoaded();function txBeDefenderAfterDOMLoaded(){let e=document.getElementById("tx-bedefender-code-button"),t=document.getElementById("t3-username");null!==e&&e.addEventListener("click",function(r){if(r.preventDefault(),e.hasAttribute("data-disabled"))return!1;if(""==t.value)return alert(txBedefenderTranslations.errorNoUserName),!1;e.classList.add("disabled"),e.setAttribute("data-disabled","1");var a=new XMLHttpRequest;a.onreadystatechange=function(){if(1==a.readyState)console.log("Established server connection.");else if(2==a.readyState)console.log("Request received by server.");else if(3==a.readyState)console.log("Processing request.");else if(4==a.readyState){console.log("Done loading!");try{let t=JSON.parse(a.responseText),r=500;null!==t&&(r=t.status),200==r||400==r?alert(txBedefenderTranslations.requestSuccessMessage):alert(txBedefenderTranslations.requestErrorMessage)}catch(s){alert(txBedefenderTranslations.requestErrorMessage),console.error(s)}e.classList.remove("disabled"),e.removeAttribute("data-disabled")}else console.log("Something went wrong. :("),alert(txBedefenderTranslations.requestErrorMessage),e.classList.remove("disabled"),e.removeAttribute("data-disabled")};let s="/index.php?type=1689670530&tx_bedefender_authcode[username]="+t.value;a.open("GET",s,!0),a.send()})}
