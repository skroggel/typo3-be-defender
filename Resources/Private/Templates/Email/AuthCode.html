<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      xmlns:postmaster="http://typo3.org/ns/Madj2k/Postmaster/ViewHelpers"
      data-namespace-typo3-fluid="true">

    <f:layout name="Email/{mailType}" />

    <!-- PLAINTEXT -->
    <f:section name="Plaintext"><postmaster:email.plaintextLineBreaks>
        <postmaster:email.recipientSalutation queueRecipient="{queueRecipient}"
               prependText="{postmaster:email.translate(key:'templates_email_authCode.headline', languageKey:'{queueRecipient.languageCode}', extensionName:'beDefender')}, "
               appendText="!"
               fallbackText="{postmaster:email.translate(key:'templates_email_authCode.headline', languageKey:'{queueRecipient.languageCode}', extensionName:'beDefender')}!"
        />\n\n

        <postmaster:email.translate key="templates_email_authCode.text1" languageKey="{queueRecipient.languageCode}" extensionName="beDefender" />\n\n
        
        {authCode}\n\n

        <postmaster:email.translate key="templates_email_authCode.text2" languageKey="{queueRecipient.languageCode}" extensionName="beDefender" arguments="{0: serverRemoteIp}" />\n\n

         IP: {serverRemoteIp}\n
         User-Agent: {serverUserAgent}\n
        
    </postmaster:email.plaintextLineBreaks></f:section>


    <!-- HTML -->
    <f:section name="Html">
        <h1>
            <postmaster:email.recipientSalutation queueRecipient="{queueRecipient}"
                   prependText="{postmaster:email.translate(key:'templates_email_authCode.headline', languageKey:'{queueRecipient.languageCode}', extensionName:'beDefender')}, "
                   appendText="!"
                   fallbackText="{postmaster:email.translate(key:'templates_email_authCode.headline', languageKey:'{queueRecipient.languageCode}', extensionName:'beDefender')}!"
            />
        </h1>
        <p><postmaster:email.translate key="templates_email_authCode.text1" languageKey="{queueRecipient.languageCode}" extensionName="beDefender" /></p>
        
        <p><strong>{authCode}</strong></p>
        
        <p><strong><postmaster:email.translate key="templates_email_authCode.text2" languageKey="{queueRecipient.languageCode}" extensionName="beDefender" arguments="{0: serverRemoteIp}" /></strong></p>
        
        <table class="colored-table">
            <tr>
                <th style="width:100px" class="align-left">IP:</th>
                <td>{serverRemoteIp}</td>
            </tr>
            <tr>
                <th style="width:100px" class="align-left">User-Agent:</th>
                <td>{serverUserAgent}</td>
            </tr>
        </table>

    </f:section>
</html>
